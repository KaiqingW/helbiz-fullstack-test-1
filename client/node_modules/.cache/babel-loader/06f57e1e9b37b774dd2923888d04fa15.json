{"ast":null,"code":"import _slicedToArray from \"/Users/davidwang/Documents/helbiz-fullstack-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/davidwang/Documents/helbiz-fullstack-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/davidwang/Documents/helbiz-fullstack-test/client/src/pages/bikes.jsx\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  query GetBikeById ($id: ID!) {\\n    bike (bike_id: $id){\\n      bike_id\\n      lat\\n      lon\\n      is_reserved\\n      is_disabled\\n      vehicle_type\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  query GetBikeList {\\n    bikes{\\n      bike_id\\n      lat\\n      lon\\n      is_reserved\\n      is_disabled\\n      vehicle_type\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// eslint-disable-next-line\nimport React, { setState, useState, useEffect } from 'react';\nimport { gql, useQuery } from '@apollo/client';\nimport { Loading } from '../components';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nexport const GET_BIKES = gql(_templateObject());\nexport const GET_BIKE_BY_ID = gql(_templateObject2());\n\nconst Bikes = () => {\n  const _useQuery = useQuery(GET_BIKES),\n        data = _useQuery.data,\n        loading = _useQuery.loading,\n        error = _useQuery.error; // const { b, l, e} = useQuery(GET_BIKE_BY_ID, { variables: { id } });\n\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        input = _useState2[0],\n        setInput = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        bikeSearched = _useState4[0],\n        setBikeSearched = _useState4[1];\n\n  const updateInput = input => {\n    const _useQuery2 = useQuery(GET_BIKE_BY_ID, {\n      variables: {\n        input\n      }\n    }),\n          b = _useQuery2.b,\n          l = _useQuery2.l,\n          e = _useQuery2.e;\n\n    if (l) return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    });\n\n    if (e) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 14\n        }\n      }, \"ERROR\");\n    }\n\n    if (!b) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 14\n        }\n      }, \"Not bike id found\");\n    }\n\n    setInput(input);\n    setBikeSearched(b);\n  };\n\n  const classes = makeStyles({\n    table: {\n      minWidth: 650\n    }\n  });\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  });\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"ERROR\");\n  if (!data) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Not bike list found\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Search by Bike id\",\n    value: input,\n    onChange: updateInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"contained-button-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      updateInput(input);\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Bike ID\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Latitude\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Longitude\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Reserved\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Disabled\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Type\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, bikeData.map(bike => /*#__PURE__*/React.createElement(TableRow, {\n    key: bike.bike_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, bike.bike_id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, bike.lat), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, bike.lon), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, bike.is_reserved ? 'yes' : 'no'), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, bike.is_disabled ? 'yes' : 'no'), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, bike.vehicle_type)))))));\n};\n\nexport default Bikes;","map":{"version":3,"sources":["/Users/davidwang/Documents/helbiz-fullstack-test/client/src/pages/bikes.jsx"],"names":["React","setState","useState","useEffect","gql","useQuery","Loading","Link","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","Button","GET_BIKES","GET_BIKE_BY_ID","Bikes","data","loading","error","input","setInput","bikeSearched","setBikeSearched","updateInput","variables","b","l","e","classes","table","minWidth","root","bikeData","map","bike","bike_id","lat","lon","is_reserved","is_disabled","vehicle_type"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\nimport React, {setState, useState, useEffect} from 'react';\nimport { gql, useQuery } from '@apollo/client';\nimport { Loading } from '../components';\nimport { Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from'@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nexport const GET_BIKES = gql`\n  query GetBikeList {\n    bikes{\n      bike_id\n      lat\n      lon\n      is_reserved\n      is_disabled\n      vehicle_type\n    }\n  }\n`;\nexport const GET_BIKE_BY_ID = gql`\n  query GetBikeById ($id: ID!) {\n    bike (bike_id: $id){\n      bike_id\n      lat\n      lon\n      is_reserved\n      is_disabled\n      vehicle_type\n    }\n  }\n`;\n\nconst Bikes = () => {\n  const { data, loading, error } = useQuery(GET_BIKES);\n  // const { b, l, e} = useQuery(GET_BIKE_BY_ID, { variables: { id } });\n\n  const [input, setInput] = useState('');\n  const [bikeSearched, setBikeSearched] = useState();\n\n  const updateInput = (input) => {\n    const { b, l, e} = useQuery(GET_BIKE_BY_ID, { variables: { input } });\n\n    if (l) return <Loading />;\n    if (e) {\n      return <p>ERROR</p>;\n    }\n    if (!b) {\n      return <p>Not bike id found</p>;\n    }\n    setInput(input);\n    setBikeSearched(b);\n }\n\n  const classes = makeStyles({\n    table: {\n      minWidth: 650,\n    },\n  });\n\n  if (loading) return <Loading />;\n  if (error) return <p>ERROR</p>;\n  if (!data) return <p>Not bike list found</p>;\n\n  return (\n    <div>\n    <form className={classes.root} noValidate autoComplete=\"off\">\n      <TextField \n        id=\"standard-basic\" \n        label=\"Search by Bike id\" \n        value = {input}\n        onChange = { updateInput }\n      />\n      <label htmlFor=\"contained-button-file\">\n        <Button onClick={() => { updateInput(input) }} variant=\"contained\" color=\"primary\">\n          Search\n        </Button>\n      </label>\n    </form >\n\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Bike ID</TableCell>\n            <TableCell align=\"right\">Latitude</TableCell>\n            <TableCell align=\"right\">Longitude</TableCell>\n            <TableCell align=\"right\">Reserved</TableCell>\n            <TableCell align=\"right\">Disabled</TableCell>\n            <TableCell align=\"right\">Type</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {bikeData.map((bike) => (\n            <TableRow key={bike.bike_id}>\n              <TableCell component=\"th\" scope=\"row\">{bike.bike_id}</TableCell>\n              <TableCell align=\"right\">{bike.lat}</TableCell>\n              <TableCell align=\"right\">{bike.lon}</TableCell>\n              <TableCell align=\"right\">{bike.is_reserved? 'yes':'no'}</TableCell>\n              <TableCell align=\"right\">{bike.is_disabled? 'yes':'no'}</TableCell>\n              <TableCell align=\"right\">{bike.vehicle_type}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    </div>\n  );\n};\n\nexport default Bikes;\n"]},"metadata":{},"sourceType":"module"}